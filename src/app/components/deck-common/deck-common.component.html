<!-- DECK HEADER -->
<header class="deck-header">
  <img class="deck-header__img" src="assets/img/album-art-placeholder.png" alt="album art">
  <span class="deck-header__title">Song Name</span>

  <div class="deck-header__time-display">
    <p class="deck-header__time-elapsed">{{ currentTime | timeMmss}}</p>
    <p class="deck-header__time-remaining">{{ duration | timeMmss}}</p>
  </div>
  <div class="deck-header__deck-letter" [class.--active]="playState"> {{deck | uppercase }} </div>
</header>

<!-- DECK BODY CONTAINER -->

<!-- TEMPO SLIDER -->
<div class="deck-container">
  <!-- <div class="speed-control" [ngClass]="{ '--left': deck === 'b', '--right': deck === 'a' }"> -->
    <!-- <div d3-slider id="{{deck}}" class="speed-control__slider" [vertical]="'true'" [align]="'center'" [length]="150"
      [direction]="'RTL'" [maxValue]="1.2" [minValue]="0.8" [step]="0.1" [initialValue]="1" [lineWidth]="14"
      [emptyColor]="'#000'" [color]="'#000'" [thumbSize]="8" [thumbColor]="'#1b2a32'" [thumbStrokeWidth]="1"
      [thumbStroke]="'#0081A7'" (selectedValue)="onSpeedChange($event)">
    </div> -->
    <app-slider [twoWay]="true" [vertical]="true" [initialValue]="0"></app-slider>
  <!-- </div> -->

  <!-- LEFT SECTION -->
  <div class="player">
    <audio [src]="_fileUrl" #audio></audio>

    <!-- WAVE DISPLAY -->
    <div class="player__song-window">
      <ng-container #canvasWindow></ng-container>
    </div>
    <ng-template #canvasTemplate>
      <canvas #canvas class="player__song-window__song-wave" [style.animation-duration]="duration + 's'"
        [style.animation-play-state]="playState ? 'running': 'paused'">
      </canvas>
    </ng-template>

    <!-- <progress [max]="duration" [value]="currentTime || 0" data-displayval="duration"></progress> -->
    <progress class="player__progress" max="100" value="40" data-displayval="duration"></progress>

    <!-- CONTROL BUTTONS -->
    <div class="row">
      <div class="btn-group">
        <button [class.--active]="playState" class="btn btn__play" (click)="PlayPause()">
        </button>
        <button class="btn btn__pause" (click)="PlayPause()">
        </button>
      </div>
      
      <div class="btn-group">
        <button class="btn btn__mute"></button>
        <button class="btn">
          TRG
          <div class="toggle-switch mute-toggle">
            <input type="checkbox" id="mute_trigger">
            <label for="mute_trigger"></label>
          </div>
        </button>
      </div>
    </div>

    <!-- EFFECTS BUTTONS -->
    <!-- <div class="clr-row">
      <div class="clr-col-xl-3 clr-col-md-3">
        <div class="btn-group">
          <button [class.btn-active]="delayState" class="btn btn-fx" (click)="ToggleDelay()">
            DLY
          </button>
          <ngx-knob value="50" (valueChange)="OnDelayGainChange($event)" [options]="effectsKnob" class="btn btn-fx"></ngx-knob>
        </div>
      </div>

      <div class="clr-col-xl-3 clr-col-md-3">
        <div class="btn-group">
          <button [class.btn-active]="reverbState" class="btn btn-fx" (click)="ToggleReverb()">
            RVB
          </button>
          <ngx-knob value="50" (valueChange)="OnReverbGainChange($event)" [options]="effectsKnob" class="btn btn-fx"></ngx-knob>
        </div>
      </div>
      <div class="clr-col-xl-3 clr-col-md-3">
        <div class="btn-group">
          <button class="btn btn-fx">
            KILL
          </button>
        </div>
      </div>
    </div> -->
  </div>
</div>
